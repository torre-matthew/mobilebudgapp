{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\torre\\\\Documents\\\\bootcamp\\\\mobilebudgapp\\\\mobilebudgapp\\\\Components\\\\billDisplay.js\";\nimport React, { Component } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { Container, Header, Content, Card, CardItem, Text, Body } from \"native-base\";\nimport EditBillFormDisplay from \"./editBillForm\";\nimport style from \"../Styles/Styles\";\nimport ApiMethods from \"../utilities/apiMethods\";\nimport Categories from \"../utilities/categories\";\nimport QuickActionDrawer from \"./quickActionDrawer\";\nimport { FontAwesome5 } from '@expo/vector-icons';\nimport * as Font from 'expo-font';\n\nvar UnplannedBillDisplay = function (_Component) {\n  _inherits(UnplannedBillDisplay, _Component);\n\n  function UnplannedBillDisplay() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, UnplannedBillDisplay);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(UnplannedBillDisplay)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      modalVisible: false,\n      whatsBeingEdited: \"\",\n      fundingSourceID: \"\",\n      fundingSourceName: \"\",\n      fundingSourceAmount: \"\",\n      colorIfPaid: \"\",\n      textColorIfPaid: \"\",\n      markAsPaidButtonText: \"\",\n      paidDisplayText: \"\",\n      paidBillDescriptionTextInModal: \"\",\n      showDrawer: false,\n      billIsPaid: _this.props.billIsPaid,\n      forBillTracker: _this.props.forBillTracker,\n      categoryIcon: \"\",\n      categoryIconColor: \"\",\n      componentUpdateSwitch: _this.props.componentUpdateSwitch\n    };\n\n    _this.updateBillDisplayComponent = function () {\n      _this.componentDidMount();\n\n      _this.props.updateWrapperComponent();\n    };\n\n    _this.setCategoryDisplay = function () {\n      _this.setState({\n        categoryIcon: Categories.categoryIconLogic(_this.props.billCategoryName).icon,\n        categoryIconColor: Categories.categoryIconLogic(_this.props.billCategoryName).iconColor\n      });\n    };\n\n    _this.setDrawerVisible = function () {\n      if (_this.state.showDrawer) {\n        _this.setState({\n          showDrawer: false,\n          whatsBeingEdited: \"bill\"\n        });\n      } else {\n        _this.setState({\n          showDrawer: true,\n          whatsBeingEdited: \"bill\"\n        });\n      }\n    };\n\n    _this.changeDisplayWhenMarkedAsPaid = function () {\n      switch (_this.state.forBillTracker) {\n        case true:\n          _this.setState({\n            colorIfPaid: \"#4A0784\",\n            textColorIfPaid: \"#F5F5F5\",\n            markAsPaidButtonText: \"Mark as unpaid\",\n            paidBillDescriptionTextInModal: \"This has been paid\",\n            paidDisplayText: \"In bill tracker\"\n          });\n\n          break;\n\n        case false:\n          _this.setState({\n            colorIfPaid: \"#f8f8ff\",\n            textColorIfPaid: \"black\",\n            markAsPaidButtonText: \"Mark as paid\",\n            paidBillDescriptionTextInModal: \"This is currently unpaid\",\n            paidDisplayText: \"\"\n          });\n\n      }\n    };\n\n    _this.getFundingSourceInfo = function (expenseID) {\n      if (_this.props.billIsPlanned) {\n        ApiMethods.getExpenseByID(expenseID).then(function (data) {\n          ApiMethods.getIncomeByID(data.data[0].fundingSource).then(function (data) {\n            _this.setState({\n              fundingSourceID: data.data[0]._id,\n              fundingSourceName: data.data[0].name,\n              fundingSourceAmount: \"$\" + data.data[0].afterSpendingAmount + \" left\"\n            });\n          }).catch(function (err) {\n            return console.log(err);\n          });\n        }).catch(function (err) {\n          return console.log(err);\n        });\n      } else {\n        _this.setState({\n          fundingSourceID: \"\",\n          fundingSourceName: \"\",\n          fundingSourceAmount: \"\"\n        });\n      }\n    };\n\n    _this.showConfirmationAlert = function (idToDelete) {\n      Alert.alert('Delete Expense ' + idToDelete, 'Are you sure?', [{\n        text: 'Nevermind',\n        onPress: function onPress() {\n          return console.log('Cancel Pressed');\n        },\n        style: 'cancel'\n      }, {\n        text: 'Yes, I am',\n        onPress: function onPress() {\n          _this.deleteExpense(idToDelete);\n        }\n      }], {\n        cancelable: false\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(UnplannedBillDisplay, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getFundingSourceInfo(this.props.billID);\n      this.changeDisplayWhenMarkedAsPaid();\n      this.setCategoryDisplay();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        }\n      }, React.createElement(View, {\n        style: {\n          position: 'relative',\n          zIndex: 0\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        }\n      }, React.createElement(View, {\n        onTouchEnd: function onTouchEnd() {\n          _this2.props.showDrawerAndOverLayLogic(_this2.props.billID, _this2.props.billName, _this2.props.billAmount, _this2.props.billCategoryName, _this2.props.billCategoryID, _this2.state.categoryIcon, _this2.state.categoryIconColor, _this2.props.dueDate, _this2.state.fundingSourceID, _this2.state.fundingSourceName, _this2.state.fundingSourceAmount, _this2.props.billIsPaid, _this2.props.billIsPlanned, \"bill\", _this2.props.forBillTracker);\n        },\n        style: {\n          flex: 1,\n          alignSelf: 'stretch',\n          flexDirection: 'row',\n          marginTop: 3\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        }\n      }, React.createElement(View, {\n        style: {\n          flex: 1,\n          alignSelf: 'stretch',\n          backgroundColor: '#f8f8ff',\n          flexGrow: 1,\n          paddingLeft: 10,\n          paddingTop: 10,\n          paddingBottom: 5,\n          borderTopLeftRadius: 5,\n          borderStyle: 'solid',\n          borderLeftColor: this.state.categoryIconColor,\n          borderLeftWidth: 4\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        }\n      }, React.createElement(FontAwesome5, {\n        name: this.state.categoryIcon,\n        size: 18,\n        color: this.state.categoryIconColor,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        }\n      })), React.createElement(View, {\n        style: {\n          flex: 1,\n          alignSelf: 'stretch',\n          backgroundColor: '#f8f8ff',\n          flexGrow: 9,\n          paddingTop: 10,\n          paddingBottom: 5,\n          paddingRight: 5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: 15,\n          fontFamily: \"Laila-SemiBold\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        }\n      }, \" \", this.props.billName, \" \")), React.createElement(View, {\n        style: {\n          flex: 1,\n          justifyContent: 'center',\n          alignItems: 'flex-end',\n          backgroundColor: '#f8f8ff',\n          flexGrow: 6,\n          padding: 5,\n          borderTopRightRadius: 15\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: 15,\n          fontFamily: \"Laila-SemiBold\",\n          color: this.state.categoryIconColor\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        }\n      }, \" $\", this.props.billAmount.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"), \" \"))), React.createElement(View, {\n        style: {\n          flex: 1,\n          alignSelf: 'stretch',\n          flexDirection: 'row',\n          backgroundColor: '#f8f8ff',\n          borderBottomLeftRadius: 5,\n          borderBottomRightRadius: 15,\n          borderStyle: 'solid',\n          borderLeftColor: this.state.categoryIconColor,\n          borderLeftWidth: 4\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        }\n      }, React.createElement(View, {\n        style: {\n          flex: 1,\n          flexGrow: .5,\n          alignItems: 'flex-end',\n          paddingTop: 1,\n          paddingBottom: 5,\n          paddingLeft: 5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        }\n      }, React.createElement(FontAwesome5, {\n        name: \"calendar-alt\",\n        size: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        }\n      })), React.createElement(View, {\n        style: {\n          flex: 1,\n          flexGrow: 2,\n          alignItems: 'flex-start',\n          paddingTop: 1,\n          paddingBottom: 5,\n          paddingLeft: 5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: 10,\n          fontFamily: \"Laila-SemiBold\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        }\n      }, \" \", new Date(this.props.dueDate).toDateString().substr(4, 12), \" \")), React.createElement(View, {\n        style: {\n          flex: 1,\n          alignSelf: 'stretch',\n          flexGrow: 5,\n          paddingTop: 1,\n          paddingBottom: 5,\n          paddingLeft: 5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: 10,\n          fontFamily: \"Laila-SemiBold\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        }\n      }, \" \", this.state.fundingSourceName + ' ' + this.state.fundingSourceAmount.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"), \" \")), React.createElement(View, {\n        style: {\n          flex: 1,\n          alignItems: 'center',\n          flexGrow: .75,\n          backgroundColor: this.state.colorIfPaid,\n          padding: 3,\n          borderTopLeftRadius: 10,\n          borderBottomLeftRadius: 10,\n          borderBottomRightRadius: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        }\n      }, React.createElement(FontAwesome5, {\n        name: \"list-alt\",\n        size: 15,\n        color: \"#f8f8ff\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        }\n      }))), this.state.showDrawer ? React.createElement(QuickActionDrawer, {\n        navigation: this.props.navigation,\n        dueDate: this.props.dueDate,\n        billName: this.props.billName,\n        billAmount: this.props.billAmount,\n        billID: this.props.billID,\n        billIsPlanned: this.props.billIsPlanned,\n        billFundingSourceID: this.props.billFundingSourceID,\n        billCategoryName: this.props.billCategoryName,\n        billCategoryID: this.props.billCategoryID,\n        fetchData: this.props.fetchData,\n        fundingSourceID: this.state.fundingSourceID,\n        fundingSourceName: this.state.fundingSourceName,\n        fundingSourceAmount: this.state.fundingSourceAmount,\n        incomeDataFromDB: this.props.incomeDataFromDB,\n        whatsBeingEdited: this.state.whatsBeingEdited,\n        updateWrapperComponent: this.props.updateWrapperComponent,\n        updateDisplayComponent: this.updateBillDisplayComponent,\n        loggedInUserID: this.props.loggedInUserID,\n        isThisPlanned: this.props.isThisPlanned,\n        markAsPaid: this.markAsPaid,\n        markAsPaidButtonText: this.state.markAsPaidButtonText,\n        markAsUnplanned: this.markAsUnplanned,\n        billIsPaid: this.state.billIsPaid,\n        deleteExpense: this.showConfirmationAlert,\n        showMarkAsPaid: this.props.showMarkAsPaid,\n        splitEntry: this.splitEntry,\n        moveToNextMonth: this.moveToNextMonth,\n        selectFundingSource: this.selectFundingSource,\n        hideDrawerAndOverLayLogic: this.props.hideDrawerAndOverLayLogic,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        }\n      }) : React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        }\n      })));\n    }\n  }]);\n\n  return UnplannedBillDisplay;\n}(Component);\n\nexport default UnplannedBillDisplay;","map":{"version":3,"sources":["C:/Users/torre/Documents/bootcamp/mobilebudgapp/mobilebudgapp/Components/billDisplay.js"],"names":["React","Component","Container","Header","Content","Card","CardItem","Text","Body","EditBillFormDisplay","style","ApiMethods","Categories","QuickActionDrawer","FontAwesome5","Font","UnplannedBillDisplay","state","modalVisible","whatsBeingEdited","fundingSourceID","fundingSourceName","fundingSourceAmount","colorIfPaid","textColorIfPaid","markAsPaidButtonText","paidDisplayText","paidBillDescriptionTextInModal","showDrawer","billIsPaid","props","forBillTracker","categoryIcon","categoryIconColor","componentUpdateSwitch","updateBillDisplayComponent","componentDidMount","updateWrapperComponent","setCategoryDisplay","setState","categoryIconLogic","billCategoryName","icon","iconColor","setDrawerVisible","changeDisplayWhenMarkedAsPaid","getFundingSourceInfo","expenseID","billIsPlanned","getExpenseByID","then","data","getIncomeByID","fundingSource","_id","name","afterSpendingAmount","catch","err","console","log","showConfirmationAlert","idToDelete","Alert","alert","text","onPress","deleteExpense","cancelable","billID","position","zIndex","showDrawerAndOverLayLogic","billName","billAmount","billCategoryID","dueDate","flex","alignSelf","flexDirection","marginTop","backgroundColor","flexGrow","paddingLeft","paddingTop","paddingBottom","borderTopLeftRadius","borderStyle","borderLeftColor","borderLeftWidth","paddingRight","fontSize","fontFamily","justifyContent","alignItems","padding","borderTopRightRadius","color","toString","replace","borderBottomLeftRadius","borderBottomRightRadius","Date","toDateString","substr","navigation","billFundingSourceID","fetchData","incomeDataFromDB","loggedInUserID","isThisPlanned","markAsPaid","markAsUnplanned","showMarkAsPaid","splitEntry","moveToNextMonth","selectFundingSource","hideDrawerAndOverLayLogic"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { View, Modal, ScrollView, TouchableOpacity, Alert } from 'react-native';\nimport { Container, Header, Content, Card, CardItem, Text, Body } from \"native-base\";\nimport EditBillFormDisplay from \"./editBillForm\";\nimport style from \"../Styles/Styles\";\nimport ApiMethods from '../utilities/apiMethods';\nimport Categories from '../utilities/categories';\nimport QuickActionDrawer from \"./quickActionDrawer\";\nimport { FontAwesome5 } from '@expo/vector-icons';\nimport * as Font from 'expo-font';\n\n\nclass UnplannedBillDisplay extends Component {\n  state = {\n    modalVisible: false,\n    whatsBeingEdited: \"\",\n    fundingSourceID: \"\",\n    fundingSourceName: \"\",\n    fundingSourceAmount: \"\",\n    colorIfPaid: \"\",\n    textColorIfPaid: \"\",\n    markAsPaidButtonText: \"\",\n    paidDisplayText: \"\",\n    paidBillDescriptionTextInModal: \"\",\n    showDrawer: false,\n    billIsPaid: this.props.billIsPaid,\n    forBillTracker: this.props.forBillTracker,\n    categoryIcon: \"\",\n    categoryIconColor: \"\",\n    componentUpdateSwitch: this.props.componentUpdateSwitch\n  };\n\n  componentDidMount() {\n      this.getFundingSourceInfo(this.props.billID);\n      this.changeDisplayWhenMarkedAsPaid();\n      this.setCategoryDisplay();  \n  }\n\n  updateBillDisplayComponent = () => {\n    this.componentDidMount();\n    this.props.updateWrapperComponent();\n  }\n\n  setCategoryDisplay = () => {\n    this.setState({\n      categoryIcon: Categories.categoryIconLogic(this.props.billCategoryName).icon,\n      categoryIconColor: Categories.categoryIconLogic(this.props.billCategoryName).iconColor,\n    });\n  }\n  setDrawerVisible = () => {\n    if (this.state.showDrawer) { \n      this.setState({showDrawer: false, whatsBeingEdited: \"bill\"});\n      } else {\n        this.setState({showDrawer: true, whatsBeingEdited: \"bill\"});\n      }\n  }\n\n\n  changeDisplayWhenMarkedAsPaid = () => {\n    switch (this.state.forBillTracker) {\n      case true:\n        this.setState({\n          colorIfPaid: \"#4A0784\", \n          textColorIfPaid: \"#F5F5F5\", \n          markAsPaidButtonText: \"Mark as unpaid\",\n          paidBillDescriptionTextInModal: \"This has been paid\",\n          paidDisplayText: \"In bill tracker\"\n        })\n          break;\n      case false:\n        this.setState({\n          colorIfPaid: \"#f8f8ff\",\n          textColorIfPaid: \"black\",\n          markAsPaidButtonText: \"Mark as paid\",\n          paidBillDescriptionTextInModal: \"This is currently unpaid\",\n          paidDisplayText: \"\"\n        })\n    }\n  }\n\n  getFundingSourceInfo = (expenseID) => {\n    if (this.props.billIsPlanned) {\n        ApiMethods.getExpenseByID(expenseID)\n          .then(data => {\n            ApiMethods.getIncomeByID(data.data[0].fundingSource)\n              .then(data => {\n                  this.setState({\n                    fundingSourceID: data.data[0]._id, \n                    fundingSourceName: data.data[0].name,\n                    fundingSourceAmount: \"$\" + data.data[0].afterSpendingAmount + \" left\"\n                    });                      \n                  })\n              .catch(err => console.log(err))\n            })\n          .catch(err => console.log(err));\n\n    } else {\n      this.setState({\n        fundingSourceID: \"\",\n        fundingSourceName: \"\",\n        fundingSourceAmount: \"\"\n      });\n    }\n  }\n\n  showConfirmationAlert = (idToDelete) => {\n\n  Alert.alert(\n    'Delete Expense ' + idToDelete,\n    'Are you sure?',\n    [ \n      {text: 'Nevermind', onPress: () => console.log('Cancel Pressed'), style: 'cancel'},\n      {text: 'Yes, I am', onPress: () => {this.deleteExpense(idToDelete)},\n      },\n      ],\n    {cancelable: false},\n  );\n}\n  render () {\n      return (\n        <View>\n            <View style={{position: 'relative', zIndex: 0}}>\n              <View onTouchEnd={() => {this.props.showDrawerAndOverLayLogic(this.props.billID, this.props.billName, this.props.billAmount, this.props.billCategoryName, this.props.billCategoryID, this.state.categoryIcon, this.state.categoryIconColor, this.props.dueDate, this.state.fundingSourceID, this.state.fundingSourceName, this.state.fundingSourceAmount, this.props.billIsPaid, this.props.billIsPlanned, \"bill\", this.props.forBillTracker);}} style={{ flex: 1, alignSelf: 'stretch', flexDirection: 'row', marginTop: 3 }}>\n                <View style={{ flex: 1, alignSelf: 'stretch', backgroundColor: '#f8f8ff', flexGrow: 1, paddingLeft: 10, paddingTop: 10, paddingBottom: 5, borderTopLeftRadius: 5, borderStyle: 'solid', borderLeftColor: this.state.categoryIconColor, borderLeftWidth: 4 }}> \n                  <FontAwesome5 name={this.state.categoryIcon} size={18} color={this.state.categoryIconColor} />\n                </View>\n                <View style={{ flex: 1, alignSelf: 'stretch', backgroundColor: '#f8f8ff', flexGrow: 9, paddingTop: 10, paddingBottom: 5, paddingRight: 5}}> \n                  <Text style={{fontSize: 15, fontFamily: \"Laila-SemiBold\"}}> {this.props.billName} </Text>\n                </View>\n                <View style={{ flex: 1, justifyContent: 'center', alignItems:'flex-end', backgroundColor: '#f8f8ff', flexGrow: 6, padding: 5, borderTopRightRadius: 15}}> \n                  <Text style={{fontSize: 15, fontFamily: \"Laila-SemiBold\", color: this.state.categoryIconColor}}> ${this.props.billAmount.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")} </Text>\n                </View>\n              </View>\n              <View style={{ flex: 1, alignSelf: 'stretch', flexDirection: 'row', backgroundColor: '#f8f8ff', borderBottomLeftRadius: 5, borderBottomRightRadius: 15, borderStyle: 'solid', borderLeftColor: this.state.categoryIconColor, borderLeftWidth: 4}}>\n                <View style={{ flex: 1, flexGrow: .5, alignItems: 'flex-end', paddingTop: 1, paddingBottom: 5, paddingLeft: 5,}}> \n                  <FontAwesome5 name='calendar-alt' size={12} />\n                </View>\n                <View style={{ flex: 1, flexGrow: 2, alignItems: 'flex-start', paddingTop: 1, paddingBottom: 5, paddingLeft: 5,}}> \n                  <Text style={{fontSize: 10, fontFamily: \"Laila-SemiBold\"}}> { new Date(this.props.dueDate).toDateString().substr(4, 12) } </Text>\n                </View>\n                <View style={{ flex: 1, alignSelf: 'stretch', flexGrow: 5, paddingTop: 1, paddingBottom: 5, paddingLeft: 5,}}> \n                  <Text style={{fontSize: 10, fontFamily: \"Laila-SemiBold\"}}> {this.state.fundingSourceName + ' ' + this.state.fundingSourceAmount.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")} </Text>\n                </View>\n                <View style={{ flex: 1, alignItems: 'center', flexGrow: .75, backgroundColor: this.state.colorIfPaid, padding: 3, borderTopLeftRadius: 10, borderBottomLeftRadius: 10, borderBottomRightRadius: 10}}> \n                  <FontAwesome5 name=\"list-alt\" size={15} color='#f8f8ff' />\n                </View>\n              </View>\n              {this.state.showDrawer\n                ? \n               <QuickActionDrawer \n                  navigation={this.props.navigation}\n                  dueDate={this.props.dueDate}\n                  billName={this.props.billName}\n                  billAmount={this.props.billAmount}\n                  billID={this.props.billID}\n                  billIsPlanned={this.props.billIsPlanned}\n                  billFundingSourceID={this.props.billFundingSourceID}\n                  billCategoryName={this.props.billCategoryName}\n                  billCategoryID={this.props.billCategoryID}\n                  fetchData={this.props.fetchData}\n                  fundingSourceID={this.state.fundingSourceID}\n                  fundingSourceName={this.state.fundingSourceName}\n                  fundingSourceAmount={this.state.fundingSourceAmount}\n                  incomeDataFromDB={this.props.incomeDataFromDB}\n                  whatsBeingEdited={this.state.whatsBeingEdited}\n                  updateWrapperComponent={this.props.updateWrapperComponent}\n                  updateDisplayComponent={this.updateBillDisplayComponent}\n                  loggedInUserID={this.props.loggedInUserID}\n                  isThisPlanned={this.props.isThisPlanned}\n                  markAsPaid={this.markAsPaid}\n                  markAsPaidButtonText={this.state.markAsPaidButtonText}\n                  markAsUnplanned={this.markAsUnplanned}\n                  billIsPaid={this.state.billIsPaid}\n                  deleteExpense={this.showConfirmationAlert}\n                  showMarkAsPaid={this.props.showMarkAsPaid}\n                  splitEntry={this.splitEntry}\n                  moveToNextMonth={this.moveToNextMonth}\n                  selectFundingSource={this.selectFundingSource}\n                  hideDrawerAndOverLayLogic={this.props.hideDrawerAndOverLayLogic}\n               />\n                :\n                <View />\n              }          \n            </View>\n          </View>\n      );\n    }\n  }\n\n\n  export default UnplannedBillDisplay;"]},"metadata":{},"sourceType":"module"}