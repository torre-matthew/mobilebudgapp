{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\torre\\\\Documents\\\\bootcamp\\\\mobilebudgapp\\\\mobilebudgapp\\\\Components\\\\incomeDisplay.js\";\nimport React, { Component } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { Container, Header, Content, Card, CardItem, Text, Body } from \"native-base\";\nimport EditBillFormDisplay from \"./editBillForm\";\nimport style from \"../Styles/Styles\";\nimport ApiMethods from \"../utilities/apiMethods\";\nimport * as Font from 'expo-font';\n\nvar IncomeDisplay = function (_Component) {\n  _inherits(IncomeDisplay, _Component);\n\n  function IncomeDisplay() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, IncomeDisplay);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(IncomeDisplay)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      modalVisible: false,\n      whatsBeingEdited: \"income\",\n      amountToDisplay: 0\n    };\n\n    _this.updateIncomeDisplayComponent = function () {\n      _this.componentDidMount();\n    };\n\n    _this.setModalVisible = function (visible) {\n      _this.props.navigation.navigate('Edit Entry', {\n        navigation: _this.props.navigation,\n        incomeName: _this.props.incomeName,\n        incomeDate: _this.props.incomeDate,\n        incomeAmount: _this.props.incomeAmount,\n        incomeID: _this.props.incomeID,\n        handleExpenseEditFormSubmit: _this.props.handleExpenseEditFormSubmit,\n        closeModalOnSubmit: _this.closeModal,\n        incomeDataFromDB: _this.props.currentIncomeFromDB,\n        whatsBeingEdited: _this.state.whatsBeingEdited,\n        updateWrapperComponent: _this.props.updateWrapperComponent,\n        updateDisplayComponent: _this.updateIncomeDisplayComponent,\n        switcherClicked: _this.props.switcherClicked,\n        deleteIncome: _this.deleteIncome\n      });\n    };\n\n    _this.closeModal = function () {\n      _this.setModalVisible(!_this.state.modalVisible);\n    };\n\n    _this.deleteIncome = function () {\n      ApiMethods.deleteIncome(_this.props.incomeID).then(function (res) {\n        if (res.data.deletedCount === 0) {\n          alert('Sorry, ' + _this.props.incomeName + ' could not be deleted');\n        } else {\n          alert('You have successfully deleted ' + _this.props.incomeName);\n\n          _this.props.updateWrapperComponent();\n\n          ApiMethods.updateIncomeOnUserRecord(_this.props.loggedInUserID).then(function (data) {}).catch(function (err) {\n            return console.log(err);\n          });\n\n          _this.props.navigation.navigate('Budget');\n        }\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(IncomeDisplay, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.fetchData();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        }\n      }, React.createElement(Modal, {\n        animationType: \"slide\",\n        transparent: false,\n        visible: this.state.modalVisible,\n        onRequestClose: this.closeModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        }\n      }, React.createElement(ScrollView, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        }\n      }, React.createElement(EditBillFormDisplay, {\n        incomeName: this.props.incomeName,\n        incomeDate: this.props.incomeDate,\n        incomeAmount: this.props.incomeAmount,\n        incomeID: this.props.incomeID,\n        handleExpenseEditFormSubmit: this.props.handleExpenseEditFormSubmit,\n        closeModalOnSubmit: this.closeModal,\n        incomeDataFromDB: this.props.currentIncomeFromDB,\n        whatsBeingEdited: this.state.whatsBeingEdited,\n        updateWrapperComponent: this.props.updateWrapperComponent,\n        updateDisplayComponent: this.updateIncomeDisplayComponent,\n        switcherClicked: this.props.switcherClicked,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        }\n      }), React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          ApiMethods.deleteIncome(_this2.props.incomeID).then(function (res) {\n            if (res.data.deletedCount === 0) {\n              alert('Sorry, ' + _this2.props.incomeName + ' could not be deleted');\n            } else {\n              alert('You have successfully deleted ' + _this2.props.incomeName);\n\n              _this2.props.updateWrapperComponent();\n\n              ApiMethods.updateIncomeOnUserRecord(_this2.props.loggedInUserID).then(function (data) {}).catch(function (err) {\n                return console.log(err);\n              });\n\n              _this2.closeModal();\n            }\n          }).catch(function (err) {\n            return console.log(err);\n          });\n        },\n        style: style.button2_light_style,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: 12\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        }\n      }, \" Delete Income \")))), React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        }\n      }, React.createElement(View, {\n        onTouchEnd: function onTouchEnd() {\n          _this2.setModalVisible(true);\n        },\n        style: {\n          flex: 1,\n          alignSelf: 'stretch',\n          flexDirection: 'row',\n          marginTop: 5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        }\n      }, React.createElement(View, {\n        style: {\n          flex: 1,\n          alignItems: 'flex-start',\n          justifyContent: 'center',\n          backgroundColor: '#f8f8ff',\n          borderLeftColor: '#4658A1',\n          flexGrow: 6,\n          paddingLeft: 5,\n          paddingTop: 15,\n          paddingBottom: 15,\n          borderTopLeftRadius: 5,\n          borderStyle: 'solid',\n          borderLeftWidth: 4\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: 14,\n          fontFamily: \"Laila-SemiBold\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        }\n      }, \" \", this.props.incomeName, \" \")), React.createElement(View, {\n        style: {\n          flex: 1,\n          alignItems: 'flex-end',\n          backgroundColor: '#f8f8ff',\n          flexGrow: 4,\n          borderTopRightRadius: 15,\n          paddingRight: 5,\n          paddingTop: 15,\n          paddingBottom: 15\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: 14,\n          fontFamily: \"Laila-SemiBold\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        }\n      }, \" $\", this.props.incomeAmount.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"), \" \"))), React.createElement(View, {\n        style: {\n          flex: 1,\n          alignSelf: 'stretch',\n          flexDirection: 'row',\n          backgroundColor: '#f8f8ff',\n          borderLeftColor: '#4658A1',\n          borderBottomLeftRadius: 5,\n          borderBottomRightRadius: 15,\n          borderStyle: 'solid',\n          borderLeftWidth: 4\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        }\n      }, React.createElement(View, {\n        style: {\n          flex: 1,\n          alignSelf: 'stretch',\n          paddingLeft: 5,\n          flexGrow: 3,\n          paddingLeft: 5,\n          paddingBottom: 5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: 10,\n          fontFamily: \"Laila-SemiBold\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        }\n      }, \" \", new Date(this.props.incomeDate).toDateString().substr(4, 12), \" \")))));\n    }\n  }]);\n\n  return IncomeDisplay;\n}(Component);\n\nexport default IncomeDisplay;","map":{"version":3,"sources":["C:/Users/torre/Documents/bootcamp/mobilebudgapp/mobilebudgapp/Components/incomeDisplay.js"],"names":["React","Component","Container","Header","Content","Card","CardItem","Text","Body","EditBillFormDisplay","style","ApiMethods","Font","IncomeDisplay","state","modalVisible","whatsBeingEdited","amountToDisplay","updateIncomeDisplayComponent","componentDidMount","setModalVisible","visible","props","navigation","navigate","incomeName","incomeDate","incomeAmount","incomeID","handleExpenseEditFormSubmit","closeModalOnSubmit","closeModal","incomeDataFromDB","currentIncomeFromDB","updateWrapperComponent","updateDisplayComponent","switcherClicked","deleteIncome","then","res","data","deletedCount","alert","updateIncomeOnUserRecord","loggedInUserID","catch","err","console","log","fetchData","button2_light_style","fontSize","flex","alignSelf","flexDirection","marginTop","alignItems","justifyContent","backgroundColor","borderLeftColor","flexGrow","paddingLeft","paddingTop","paddingBottom","borderTopLeftRadius","borderStyle","borderLeftWidth","fontFamily","borderTopRightRadius","paddingRight","toString","replace","borderBottomLeftRadius","borderBottomRightRadius","Date","toDateString","substr"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;;;;;AAEA,SAASC,SAAT,EAAoBC,MAApB,EAA4BC,OAA5B,EAAqCC,IAArC,EAA2CC,QAA3C,EAAqDC,IAArD,EAA2DC,IAA3D,QAAuE,aAAvE;AACA,OAAOC,mBAAP;AACA,OAAOC,KAAP;AACA,OAAOC,UAAP;AACA,OAAO,KAAKC,IAAZ,MAAsB,WAAtB;;IAEMC,a;;;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,YAAY,EAAE,KADR;AAENC,MAAAA,gBAAgB,EAAE,QAFZ;AAGNC,MAAAA,eAAe,EAAE;AAHX,K;;UAURC,4B,GAA+B,YAAM;AACnC,YAAKC,iBAAL;AACD,K;;UAEDC,e,GAAkB,UAACC,OAAD,EAAa;AAE7B,YAAKC,KAAL,CAAWC,UAAX,CAAsBC,QAAtB,CAA+B,YAA/B,EAA6C;AAC3CD,QAAAA,UAAU,EAAE,MAAKD,KAAL,CAAWC,UADoB;AAE3CE,QAAAA,UAAU,EAAE,MAAKH,KAAL,CAAWG,UAFoB;AAG3CC,QAAAA,UAAU,EAAE,MAAKJ,KAAL,CAAWI,UAHoB;AAI3CC,QAAAA,YAAY,EAAE,MAAKL,KAAL,CAAWK,YAJkB;AAK3CC,QAAAA,QAAQ,EAAE,MAAKN,KAAL,CAAWM,QALsB;AAM3CC,QAAAA,2BAA2B,EAAE,MAAKP,KAAL,CAAWO,2BANG;AAO3CC,QAAAA,kBAAkB,EAAE,MAAKC,UAPkB;AAQ3CC,QAAAA,gBAAgB,EAAE,MAAKV,KAAL,CAAWW,mBARc;AAS3CjB,QAAAA,gBAAgB,EAAE,MAAKF,KAAL,CAAWE,gBATc;AAU3CkB,QAAAA,sBAAsB,EAAE,MAAKZ,KAAL,CAAWY,sBAVQ;AAW3CC,QAAAA,sBAAsB,EAAE,MAAKjB,4BAXc;AAY3CkB,QAAAA,eAAe,EAAE,MAAKd,KAAL,CAAWc,eAZe;AAa3CC,QAAAA,YAAY,EAAE,MAAKA;AAbwB,OAA7C;AAeD,K;;UAEDN,U,GAAa,YAAM;AACjB,YAAKX,eAAL,CAAqB,CAAC,MAAKN,KAAL,CAAWC,YAAjC;AACD,K;;UAEDsB,Y,GAAe,YAAM;AACnB1B,MAAAA,UAAU,CAAC0B,YAAX,CAAwB,MAAKf,KAAL,CAAWM,QAAnC,EAA6CU,IAA7C,CAAkD,UAAAC,GAAG,EAAI;AAEvD,YAAIA,GAAG,CAACC,IAAJ,CAASC,YAAT,KAA0B,CAA9B,EAAiC;AAC/BC,UAAAA,KAAK,CAAC,YAAY,MAAKpB,KAAL,CAAWG,UAAvB,GAAoC,uBAArC,CAAL;AACD,SAFD,MAEO;AACLiB,UAAAA,KAAK,CAAC,mCAAmC,MAAKpB,KAAL,CAAWG,UAA/C,CAAL;;AACE,gBAAKH,KAAL,CAAWY,sBAAX;;AACAvB,UAAAA,UAAU,CAACgC,wBAAX,CAAoC,MAAKrB,KAAL,CAAWsB,cAA/C,EAA+DN,IAA/D,CAAoE,UAAAE,IAAI,EAAI,CAAE,CAA9E,EAAgFK,KAAhF,CAAsF,UAAAC,GAAG;AAAA,mBAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ;AAAA,WAAzF;;AACA,gBAAKxB,KAAL,CAAWC,UAAX,CAAsBC,QAAtB,CAA+B,QAA/B;AACH;AACF,OAVD,EAWCqB,KAXD,CAWO,UAAAC,GAAG;AAAA,eAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ;AAAA,OAXV;AAaD,K;;;;;;;wCA7CmB;AAClB,WAAKxB,KAAL,CAAW2B,SAAX;AACD;;;6BA6CS;AAAA;;AACR,aACM,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD;AACE,QAAA,aAAa,EAAC,OADhB;AAEE,QAAA,WAAW,EAAE,KAFf;AAGE,QAAA,OAAO,EAAE,KAAKnC,KAAL,CAAWC,YAHtB;AAIE,QAAA,cAAc,EAAE,KAAKgB,UAJvB;AAAA;AAAA;AAAA;AAAA;AAAA,SAKI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,mBAAD;AACE,QAAA,UAAU,EAAE,KAAKT,KAAL,CAAWG,UADzB;AAEE,QAAA,UAAU,EAAE,KAAKH,KAAL,CAAWI,UAFzB;AAGE,QAAA,YAAY,EAAE,KAAKJ,KAAL,CAAWK,YAH3B;AAIE,QAAA,QAAQ,EAAE,KAAKL,KAAL,CAAWM,QAJvB;AAKE,QAAA,2BAA2B,EAAE,KAAKN,KAAL,CAAWO,2BAL1C;AAME,QAAA,kBAAkB,EAAE,KAAKE,UAN3B;AAOE,QAAA,gBAAgB,EAAE,KAAKT,KAAL,CAAWW,mBAP/B;AAQE,QAAA,gBAAgB,EAAE,KAAKnB,KAAL,CAAWE,gBAR/B;AASE,QAAA,sBAAsB,EAAE,KAAKM,KAAL,CAAWY,sBATrC;AAUE,QAAA,sBAAsB,EAAE,KAAKhB,4BAV/B;AAWE,QAAA,eAAe,EAAE,KAAKI,KAAL,CAAWc,eAX9B;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,EAcA,oBAAC,gBAAD;AACE,QAAA,OAAO,EAAE,mBAAM;AAACzB,UAAAA,UAAU,CAAC0B,YAAX,CAAwB,MAAI,CAACf,KAAL,CAAWM,QAAnC,EAA6CU,IAA7C,CAAkD,UAAAC,GAAG,EAAI;AAEvE,gBAAIA,GAAG,CAACC,IAAJ,CAASC,YAAT,KAA0B,CAA9B,EAAiC;AAC/BC,cAAAA,KAAK,CAAC,YAAY,MAAI,CAACpB,KAAL,CAAWG,UAAvB,GAAoC,uBAArC,CAAL;AACD,aAFD,MAEO;AACLiB,cAAAA,KAAK,CAAC,mCAAmC,MAAI,CAACpB,KAAL,CAAWG,UAA/C,CAAL;;AACE,cAAA,MAAI,CAACH,KAAL,CAAWY,sBAAX;;AACAvB,cAAAA,UAAU,CAACgC,wBAAX,CAAoC,MAAI,CAACrB,KAAL,CAAWsB,cAA/C,EAA+DN,IAA/D,CAAoE,UAAAE,IAAI,EAAI,CAAE,CAA9E,EAAgFK,KAAhF,CAAsF,UAAAC,GAAG;AAAA,uBAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ;AAAA,eAAzF;;AACA,cAAA,MAAI,CAACf,UAAL;AACH;AACF,WAVe,EAWfc,KAXe,CAWT,UAAAC,GAAG;AAAA,mBAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ;AAAA,WAXM;AAYb,SAbL;AAcE,QAAA,KAAK,EAAEpC,KAAK,CAACwC,mBAdf;AAAA;AAAA;AAAA;AAAA;AAAA,SAeI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAACC,UAAAA,QAAQ,EAAE;AAAX,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA,2BAfJ,CAdA,CALJ,CADF,EAuCI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,UAAU,EAAE,sBAAM;AAAC,UAAA,MAAI,CAAC/B,eAAL,CAAqB,IAArB;AAA4B,SAArD;AAAuD,QAAA,KAAK,EAAE;AAAEgC,UAAAA,IAAI,EAAE,CAAR;AAAWC,UAAAA,SAAS,EAAE,SAAtB;AAAiCC,UAAAA,aAAa,EAAE,KAAhD;AAAuDC,UAAAA,SAAS,EAAE;AAAlE,SAA9D;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAAEH,UAAAA,IAAI,EAAE,CAAR;AAAWI,UAAAA,UAAU,EAAC,YAAtB;AAAoCC,UAAAA,cAAc,EAAE,QAApD;AAA8DC,UAAAA,eAAe,EAAE,SAA/E;AAA0FC,UAAAA,eAAe,EAAE,SAA3G;AAAsHC,UAAAA,QAAQ,EAAE,CAAhI;AAAmIC,UAAAA,WAAW,EAAE,CAAhJ;AAAmJC,UAAAA,UAAU,EAAE,EAA/J;AAAmKC,UAAAA,aAAa,EAAE,EAAlL;AAAsLC,UAAAA,mBAAmB,EAAE,CAA3M;AAA8MC,UAAAA,WAAW,EAAE,OAA3N;AAAoOC,UAAAA,eAAe,EAAE;AAArP,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAACf,UAAAA,QAAQ,EAAE,EAAX;AAAegB,UAAAA,UAAU,EAAE;AAA3B,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA,cAA6D,KAAK7C,KAAL,CAAWG,UAAxE,MADF,CADF,EAIE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAAE2B,UAAAA,IAAI,EAAE,CAAR;AAAWI,UAAAA,UAAU,EAAC,UAAtB;AAAkCE,UAAAA,eAAe,EAAE,SAAnD;AAA8DE,UAAAA,QAAQ,EAAE,CAAxE;AAA2EQ,UAAAA,oBAAoB,EAAE,EAAjG;AAAqGC,UAAAA,YAAY,EAAE,CAAnH;AAAsHP,UAAAA,UAAU,EAAE,EAAlI;AAAsIC,UAAAA,aAAa,EAAE;AAArJ,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAACZ,UAAAA,QAAQ,EAAE,EAAX;AAAegB,UAAAA,UAAU,EAAE;AAA3B,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA,eAA8D,KAAK7C,KAAL,CAAWK,YAAX,CAAwB2C,QAAxB,GAAmCC,OAAnC,CAA2C,uBAA3C,EAAoE,GAApE,CAA9D,MADF,CAJF,CADF,EAeE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAAEnB,UAAAA,IAAI,EAAE,CAAR;AAAWC,UAAAA,SAAS,EAAE,SAAtB;AAAiCC,UAAAA,aAAa,EAAE,KAAhD;AAAuDI,UAAAA,eAAe,EAAE,SAAxE;AAAmFC,UAAAA,eAAe,EAAE,SAApG;AAA+Ga,UAAAA,sBAAsB,EAAE,CAAvI;AAA0IC,UAAAA,uBAAuB,EAAE,EAAnK;AAAuKR,UAAAA,WAAW,EAAE,OAApL;AAA6LC,UAAAA,eAAe,EAAE;AAA9M,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAAEd,UAAAA,IAAI,EAAE,CAAR;AAAWC,UAAAA,SAAS,EAAE,SAAtB;AAAiCQ,UAAAA,WAAW,EAAE,CAA9C;AAAiDD,UAAAA,QAAQ,EAAE,CAA3D;AAA8DC,UAAAA,WAAW,EAAE,CAA3E;AAA8EE,UAAAA,aAAa,EAAE;AAA7F,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAACZ,UAAAA,QAAQ,EAAE,EAAX;AAAegB,UAAAA,UAAU,EAAE;AAA3B,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA,cAA8D,IAAIO,IAAJ,CAAS,KAAKpD,KAAL,CAAWI,UAApB,EAAgCiD,YAAhC,GAA+CC,MAA/C,CAAsD,CAAtD,EAAyD,EAAzD,CAA9D,MADF,CADF,CAfF,CAvCJ,CADN;AA+DC;;;;EAtHuB3E,S;;AAyH1B,eAAeY,aAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { View, Modal, ScrollView, TouchableOpacity, Alert  } from 'react-native';\nimport { Container, Header, Content, Card, CardItem, Text, Body } from \"native-base\";\nimport EditBillFormDisplay from \"./editBillForm\";\nimport style from \"../Styles/Styles\";\nimport ApiMethods from '../utilities/apiMethods';\nimport * as Font from 'expo-font';\n\nclass IncomeDisplay extends Component {\n  state = {\n    modalVisible: false,\n    whatsBeingEdited: \"income\",\n    amountToDisplay: 0,\n  };\n\n  componentDidMount() {\n    this.props.fetchData();\n  }\n\n  updateIncomeDisplayComponent = () => {\n    this.componentDidMount();\n  }\n\n  setModalVisible = (visible) => {\n\n    this.props.navigation.navigate('Edit Entry', {\n      navigation: this.props.navigation,\n      incomeName: this.props.incomeName,\n      incomeDate: this.props.incomeDate,\n      incomeAmount: this.props.incomeAmount,\n      incomeID: this.props.incomeID,\n      handleExpenseEditFormSubmit: this.props.handleExpenseEditFormSubmit,\n      closeModalOnSubmit: this.closeModal,\n      incomeDataFromDB: this.props.currentIncomeFromDB,\n      whatsBeingEdited: this.state.whatsBeingEdited,\n      updateWrapperComponent: this.props.updateWrapperComponent,\n      updateDisplayComponent: this.updateIncomeDisplayComponent,\n      switcherClicked: this.props.switcherClicked,\n      deleteIncome: this.deleteIncome\n    })\n  }\n\n  closeModal = () => {\n    this.setModalVisible(!this.state.modalVisible);\n  }\n\n  deleteIncome = () => {\n    ApiMethods.deleteIncome(this.props.incomeID).then(res => {\n                    \n      if (res.data.deletedCount === 0) {\n        alert('Sorry, ' + this.props.incomeName + ' could not be deleted');\n      } else {\n        alert('You have successfully deleted ' + this.props.incomeName);\n          this.props.updateWrapperComponent();\n          ApiMethods.updateIncomeOnUserRecord(this.props.loggedInUserID).then(data => {}).catch(err => console.log(err));\n          this.props.navigation.navigate('Budget');\n      }\n    })\n    .catch(err => console.log(err));\n\n  }\n\n  render () {  \n    return (\n          <View>\n            <Modal\n              animationType=\"slide\"\n              transparent={false}\n              visible={this.state.modalVisible}\n              onRequestClose={this.closeModal}>\n                <ScrollView>\n                <EditBillFormDisplay \n                  incomeName={this.props.incomeName}\n                  incomeDate={this.props.incomeDate}\n                  incomeAmount={this.props.incomeAmount}\n                  incomeID={this.props.incomeID}\n                  handleExpenseEditFormSubmit={this.props.handleExpenseEditFormSubmit}\n                  closeModalOnSubmit={this.closeModal}\n                  incomeDataFromDB={this.props.currentIncomeFromDB}\n                  whatsBeingEdited={this.state.whatsBeingEdited}\n                  updateWrapperComponent={this.props.updateWrapperComponent}\n                  updateDisplayComponent={this.updateIncomeDisplayComponent}\n                  switcherClicked={this.props.switcherClicked}\n                />\n                <TouchableOpacity\n                  onPress={() => {ApiMethods.deleteIncome(this.props.incomeID).then(res => {\n                    \n                    if (res.data.deletedCount === 0) {\n                      alert('Sorry, ' + this.props.incomeName + ' could not be deleted');\n                    } else {\n                      alert('You have successfully deleted ' + this.props.incomeName);\n                        this.props.updateWrapperComponent();\n                        ApiMethods.updateIncomeOnUserRecord(this.props.loggedInUserID).then(data => {}).catch(err => console.log(err));\n                        this.closeModal();\n                    }\n                  })\n                  .catch(err => console.log(err)); \n                    }}\n                  style={style.button2_light_style}>\n                    <Text style={{fontSize: 12 }}> Delete Income </Text>\n                </TouchableOpacity>\n                </ScrollView>\n            </Modal>\n              <View>\n                <View onTouchEnd={() => {this.setModalVisible(true);}} style={{ flex: 1, alignSelf: 'stretch', flexDirection: 'row', marginTop: 5 }}>\n                  <View style={{ flex: 1, alignItems:'flex-start', justifyContent: 'center', backgroundColor: '#f8f8ff', borderLeftColor: '#4658A1', flexGrow: 6, paddingLeft: 5, paddingTop: 15, paddingBottom: 15, borderTopLeftRadius: 5, borderStyle: 'solid', borderLeftWidth: 4 }}> \n                    <Text style={{fontSize: 14, fontFamily: \"Laila-SemiBold\"}}> {this.props.incomeName} </Text>\n                  </View>\n                  <View style={{ flex: 1, alignItems:'flex-end', backgroundColor: '#f8f8ff', flexGrow: 4, borderTopRightRadius: 15, paddingRight: 5, paddingTop: 15, paddingBottom: 15,}}> \n                    <Text style={{fontSize: 14, fontFamily: \"Laila-SemiBold\"}}> ${this.props.incomeAmount.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")} </Text>\n                    {/* {this.props.switcherClicked\n                     ?\n                     <Text style={{fontSize: 8 }}> Remaining </Text>\n                     :\n                     <Text style={{fontSize: 8 }}> Recieved </Text>\n                    } */}\n                  </View>\n                </View>\n                <View style={{ flex: 1, alignSelf: 'stretch', flexDirection: 'row', backgroundColor: '#f8f8ff', borderLeftColor: '#4658A1', borderBottomLeftRadius: 5, borderBottomRightRadius: 15, borderStyle: 'solid', borderLeftWidth: 4 }}>\n                  <View style={{ flex: 1, alignSelf: 'stretch', paddingLeft: 5, flexGrow: 3, paddingLeft: 5, paddingBottom: 5,}}> \n                    <Text style={{fontSize: 10, fontFamily: \"Laila-SemiBold\"}}> { new Date(this.props.incomeDate).toDateString().substr(4, 12)} </Text>\n                  </View>\n                </View>\n              </View>\n          </View>\n      );\n    }\n  }\n\n  export default IncomeDisplay;"]},"metadata":{},"sourceType":"module"}